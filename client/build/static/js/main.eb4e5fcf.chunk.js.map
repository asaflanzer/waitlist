{"version":3,"sources":["assets/adopt.png","context/auth-context.js","pages/hooks/useQueue.js","pages/LandingPage/index.js","pages/FormPage/index.jsx","pages/hooks/useGetUser.js","pages/StatusPage/index.js","pages/admin/LoginPage/index.js","pages/admin/QueuePage/index.js","ApplicationRoutes/styles.js","ApplicationRoutes/index.jsx","App.js","index.js"],"names":["module","exports","AuthContext","createContext","AuthProvider","children","useState","token","userId","tokenExpiration","user","setUser","Provider","value","login","logout","useQueue","queueLength","nextQueue","lastServed","loading","useEffect","Title","Typography","Text","LandingPage","history","useHistory","disabled","style","margin","textAlign","maxWidth","padding","span","src","logo","heigth","width","alt","marginBottom","level","mode","className","Item","gutter","title","prefix","UserOutlined","marginTop","type","onClick","e","push","to","FormPage","useContext","setLoading","name","email","phone","formData","setFormData","readDoc","setReadDoc","cookies","Cookies","handleChange","target","prev","handleSubmit","preventDefault","requestBody","query","variables","fetch","method","body","JSON","stringify","headers","then","res","status","Error","json","resData","console","log","data","createUser","set","catch","err","onSubmit","minWidth","paddingTop","dir","placeholder","onChange","pattern","Link","Modal","info","paddingRight","content","okText","onOk","oname","checked","useGetUser","userStatus","get","StatusPage","useParams","singleUser","setSingleUser","length","next","last","setStatus","undefined","fetchSingleUser","fetchStatus","getStatus","nextInline","number","userNumber","n","z","Array","join","extra","border","borderRadius","fontSize","dayjs","createdAt","format","timeZone","confirm","icon","ExclamationCircleOutlined","okType","cancelText","onCancel","LoginPage","password","setDisabled","handleLogin","updateInput","autoComplete","relativeTime","require","extend","columns","dataIndex","key","render","text","record","href","stat","color","QueuePage","usersList","servedList","totalInQueue","totalServed","xs","suffix","dataSource","rowKey","pagination","expandable","expandedRowRender","timestamp","from","strong","rowExpandable","MainContent","styled","main","GlobalStyle","createGlobalStyle","ApplicationRoutes","div","path","component","exact","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.eb4e5fcf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/adopt.7dd78cd2.png\";","import React, { createContext, useState } from 'react';\r\n\r\nconst AuthContext = createContext(null);\r\n\r\nfunction AuthProvider({ children }) {\r\n  const [user, setUser] = useState({\r\n    token: '',\r\n    userId: '',\r\n    tokenExpiration: '',\r\n  });\r\n\r\n  const login = (token, userId, tokenExpiration) => {\r\n    setUser({ token, userId, tokenExpiration });\r\n  };\r\n\r\n  const logout = () => {\r\n    setUser({ token: '', userId: '', tokenExpiration: '' });\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport { AuthProvider, AuthContext };\r\n","import { useState, useEffect, useContext } from 'react';\r\n// import { FirebaseContext } from '../../firebase/firebaseConfig';\r\n// import 'firebase/firestore';\r\n\r\nconst useQueue = () => {\r\n  // const firebase = useContext(FirebaseContext);\r\n  // const db = firebase.firestore();\r\n  const [queueLength, setQueueLength] = useState('');\r\n  const [nextQueue, setNextQueue] = useState('');\r\n  const [lastServed, setLastServed] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Get total queue size\r\n    // db.collection('queue')\r\n    //   .where('status', 'in', ['pending', 'notified'])\r\n    //   .onSnapshot(\r\n    //     (querySnapshot) => {\r\n    //       setQueueLength(querySnapshot.size);\r\n    //       //setLoading(false);\r\n    //     },\r\n    //     (err) => {\r\n    //       console.log(err);\r\n    //     }\r\n    //   );\r\n    // db.collection('queue')\r\n    //   .where('status', 'in', ['pending', 'notified'])\r\n    //   .limit(1)\r\n    //   .onSnapshot(\r\n    //     (querySnapshot) => {\r\n    //       querySnapshot.forEach((doc) => {\r\n    //         setNextQueue(doc.id);\r\n    //       });\r\n    //     },\r\n    //     (err) => {\r\n    //       console.log(err);\r\n    //     }\r\n    //   );\r\n    // db.collection('queue')\r\n    //   .where('status', '==', 'served')\r\n    //   .orderBy('timestamp', 'desc')\r\n    //   .limit(1)\r\n    //   .onSnapshot(\r\n    //     (querySnapshot) => {\r\n    //       querySnapshot.forEach((doc) => {\r\n    //         setLastServed(doc.data().number);\r\n    //       });\r\n    //     },\r\n    //     (err) => {\r\n    //       console.log(err);\r\n    //     }\r\n    //   );\r\n    // setLoading(false);\r\n    // return () => {\r\n    //   setLoading(false);\r\n    // };\r\n  }, [loading, queueLength, nextQueue, lastServed]);\r\n\r\n  return { queueLength, nextQueue, lastServed };\r\n};\r\n\r\nexport default useQueue;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport logo from '../../assets/adopt.png';\r\nimport './styled.scss';\r\n// ant designs\r\nimport { Typography } from 'antd';\r\nimport { Timeline } from 'antd';\r\nimport { Statistic, Row, Col } from 'antd';\r\nimport { Spin } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\n// custom hooks\r\nimport useQueue from '../hooks/useQueue';\r\n//import dayjs from 'dayjs';\r\n//const date = dayjs();\r\n\r\nconst { Title, Text } = Typography;\r\n\r\nconst LandingPage = () => {\r\n  const history = useHistory();\r\n  const { loading, queueLength } = useQueue();\r\n  const [disabled] = useState(false); // Change to true for PRODUCTION\r\n\r\n  useEffect(() => {\r\n    //   // //Enable queue till 15:30\r\n    //   // if (date.hour() === 15 && date.minute() > 30) {\r\n    //   //   setDisabled(true);\r\n    //   // }\r\n    //   //UNCOmMENT FOR PRODUCTION\r\n    //   //Enable queue on FRI between 11-15\r\n    //   if (date.day() === 5 && date.hour() >= 11 && date.hour() < 15) {\r\n    //     setDisabled(false);\r\n    //setLoading(false);\r\n    //   } else {\r\n    //     setDisabled(true);\r\n    //   }\r\n    //setLoading(false);\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        margin: '0 auto',\r\n        textAlign: 'center',\r\n        maxWidth: 768,\r\n        padding: '30px 15px 0 15px',\r\n      }}\r\n    >\r\n      <Row>\r\n        <Col span={24}>\r\n          <img\r\n            src={logo}\r\n            heigth='100'\r\n            width='100'\r\n            alt='logo'\r\n            style={{ marginBottom: 10 }}\r\n          />\r\n          <Title level={3}>\r\n            ברוכים הבאים ליום האימוץ של אדופט - בית מחסה לכלבים\r\n          </Title>\r\n          <Timeline mode='right' className='landing-timeline'>\r\n            <Timeline.Item>\r\n              האימוץ בנוכחות כל דיירי הבית - כולל ילדים וכלבים\r\n            </Timeline.Item>\r\n            <Timeline.Item>\r\n              לא כל הקודם זוכה - אנחנו נדבר עם כולם ורק כשיסתיים התור יתקבלו\r\n              החלטות\r\n            </Timeline.Item>\r\n            <Timeline.Item>\r\n              ההמתנה יכולה לקחת זמן ויכול להיות שנחרוג בשעת הסיום, נשמח שתתאזרו\r\n              בסבלנות\r\n            </Timeline.Item>\r\n            <Timeline.Item>\r\n              אין חובה להישאר עד תורכם אך יש להגיע בזמן לפי עדכוני האפליקציה\r\n            </Timeline.Item>\r\n          </Timeline>\r\n          <Row gutter={16}>\r\n            <Col span={2} />\r\n            {queueLength === '' ? (\r\n              <Col span={20}>\r\n                <div className='loading'>\r\n                  <Spin />\r\n                </div>\r\n              </Col>\r\n            ) : (\r\n              <>\r\n                <Col span={10}>\r\n                  <Statistic\r\n                    title='זמן המתנה משוער'\r\n                    value={`${queueLength * 2}`}\r\n                    prefix={`'דק`}\r\n                  />\r\n                </Col>\r\n                <Col span={10}>\r\n                  <Statistic\r\n                    title='ממתינים בתור'\r\n                    value={queueLength}\r\n                    prefix={<UserOutlined />}\r\n                  />\r\n                </Col>\r\n              </>\r\n            )}\r\n            <Col span={2} />\r\n          </Row>\r\n          <div style={{ marginTop: 15 }}>\r\n            {disabled ? (\r\n              <button type='primary' disabled='disabled'>\r\n                אין יותר תורים, נתראה שבוע הבא\r\n              </button>\r\n            ) : loading ? (\r\n              ''\r\n            ) : (\r\n              <button type='primary' onClick={(e) => history.push('/form')}>\r\n                הצטרפו לתור\r\n              </button>\r\n            )}\r\n          </div>\r\n          <div style={{ marginTop: 30 }}>\r\n            <Text>\r\n              הצטרפתם כבר לתור? <Link to='/status'>בדקו את מיקומכם</Link>\r\n            </Text>\r\n            <br />\r\n            <br />\r\n            <Link to='/login'>כניסת צוות</Link>\r\n            <br />\r\n            <br />\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LandingPage;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n// context\r\nimport { AuthContext } from '../../context/auth-context';\r\n\r\nimport './styled.scss';\r\n// ant design\r\nimport { Typography } from 'antd';\r\nimport { Form, Input, Checkbox } from 'antd';\r\nimport { Modal } from 'antd';\r\n// Cookies\r\nimport Cookies from 'universal-cookie';\r\n// custom hooks\r\nimport useQueue from '../hooks/useQueue';\r\n// import io from 'socket.io-client';\r\n\r\n// //SERVER DOMAIN\r\n// const socket = io('http://localhost:8000/');\r\n\r\n// socket.on('message', (message) => {\r\n//   console.log(message);\r\n// });\r\n\r\nconst { Title } = Typography;\r\n\r\nconst FormPage = () => {\r\n  const { user, login } = useContext(AuthContext);\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  //const { queueLength } = useQueue();\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n  });\r\n  const [readDoc, setReadDoc] = useState(false);\r\n  const [disabled, setDisabled] = useState(false); //TODO: fix disabled logic move to formik+yup\r\n\r\n  const history = useHistory();\r\n\r\n  const cookies = new Cookies();\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleCheck = () => {\r\n    setReadDoc(!readDoc);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    const requestBody = {\r\n      query: `\r\n          mutation CreateUser($name: String!, $email: String!, $phone: String!) {\r\n              createUser(userInput: {name: $name, email: $email, phone: $phone }) {\r\n                  userId\r\n                  token\r\n                  tokenExpiration\r\n              }\r\n          }\r\n        `,\r\n      variables: {\r\n        name: formData.name,\r\n        email: formData.email,\r\n        phone: formData.phone,\r\n      },\r\n    };\r\n\r\n    fetch('/graphql', {\r\n      method: 'POST',\r\n      body: JSON.stringify(requestBody),\r\n      headers: { 'Content-Type': 'application/json' },\r\n    })\r\n      .then((res) => {\r\n        if (res.status !== 200 && res.status !== 201) {\r\n          throw new Error('Failed');\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((resData) => {\r\n        console.log(resData.data);\r\n        const { token, userId, tokenExpiration } = resData.data.createUser;\r\n\r\n        // socket.emit('join-queue', userId);\r\n        // socket.emit('queue', userId);\r\n\r\n        if (token) {\r\n          //SAVE TOKEN IN COOKIES\r\n          cookies.set('token', {\r\n            token: token,\r\n            userId: userId,\r\n            tokenExpiration: tokenExpiration,\r\n          });\r\n          // SAVE TO CONTEXT\r\n          login(token, userId, tokenExpiration);\r\n        }\r\n        setLoading(false);\r\n        history.push(`/status/${userId}`);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    setLoading(false);\r\n  };\r\n\r\n  const info = () => {\r\n    Modal.info({\r\n      title: (\r\n        <div style={{ textAlign: 'right', marginBottom: 10, paddingRight: 30 }}>\r\n          הבהרות בנוגע ליום האימוץ\r\n        </div>\r\n      ),\r\n      content: (\r\n        <div style={{ margin: '0 auto', textAlign: 'right' }}>\r\n          <p>\r\n            - האימוץ יתקיים בנוכחות כל דיירי הבית\r\n            <br /> כולל ילדים וכלבים\r\n          </p>\r\n          <p>\r\n            לא כל הקודם זוכה - אנחנו נדבר עם כולם\r\n            <br />\r\n            ורק כשיסתיים התור יתקבלו החלטות\r\n          </p>\r\n          <p>\r\n            ההמתנה יכולה לקחת זמן ויכול להיות שנחרוג\r\n            <br />\r\n            בשעת הסיום, נשמח שתתאזרו בסבלנות\r\n          </p>\r\n          <p>\r\n            אין חובה להישאר עד תורכם אך יש להגיע\r\n            <br />\r\n            בזמן לפי עדכוני האפליקציה\r\n          </p>\r\n        </div>\r\n      ),\r\n      okText: 'אני מסכים/ה',\r\n      onOk() {\r\n        setReadDoc(true);\r\n      },\r\n    });\r\n  };\r\n  return (\r\n    <div>\r\n      <Form\r\n        onSubmit={handleSubmit}\r\n        style={{\r\n          margin: '0 auto',\r\n          textAlign: 'center',\r\n          maxWidth: 768,\r\n          minWidth: 300,\r\n          paddingTop: 50,\r\n        }}\r\n      >\r\n        <div style={{ margin: '0 auto', textAlign: 'center' }}>\r\n          <Title level={3}>הכנס/י פרטים</Title>\r\n        </div>\r\n        <div style={{ marginTop: 30, textAlign: 'right' }}>\r\n          <Form.Item>\r\n            <Input\r\n              dir='rtl'\r\n              type='text'\r\n              name='name'\r\n              placeholder='שם מלא'\r\n              onChange={handleChange}\r\n              value={formData.name || ''}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Input\r\n              dir='rtl'\r\n              type='email'\r\n              name='email'\r\n              placeholder='כתובת מייל לעדכון מיקומך בתור'\r\n              onChange={handleChange}\r\n              value={formData.email || ''}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Input\r\n              dir='rtl'\r\n              type='tel'\r\n              pattern='[0-9]*'\r\n              name='phone'\r\n              placeholder='מספר טלפון לעדכונים'\r\n              onChange={handleChange}\r\n              value={formData.phone || ''}\r\n            />\r\n          </Form.Item>\r\n          <Typography.Text>קראתי ואני מסכימ/ה לגבי{` `}</Typography.Text>\r\n          <Typography.Link onClick={info}>ההבהרות ליום אימוץ</Typography.Link>\r\n          {` `}\r\n          <Checkbox\r\n            oname='agreement'\r\n            onChange={handleCheck}\r\n            checked={readDoc}\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type='submit'\r\n          disabled={disabled || !readDoc ? 'disabled' : false}\r\n          onClick={handleSubmit}\r\n        >\r\n          קח/י מספר\r\n        </button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormPage;\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n// import { FirebaseContext } from '../../firebase/firebaseConfig';\r\n// import 'firebase/firestore';\r\n// Cookies\r\nimport Cookies from 'universal-cookie';\r\nconst cookies = new Cookies();\r\n\r\nconst useGetUser = () => {\r\n  // const firebase = useContext(FirebaseContext);\r\n  // const db = firebase.firestore();\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(true);\r\n  const [userStatus, setUserStatus] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Get user data\r\n    // db.collection('queue')\r\n    //   .doc(cookies.get('inQueue') || 'not found')\r\n    //   .onSnapshot(\r\n    //     (querySnapshot) => {\r\n    //       if (querySnapshot.exists) {\r\n    //         setUserStatus({\r\n    //           id: querySnapshot.id,\r\n    //           name: querySnapshot.data().name,\r\n    //           timestamp: querySnapshot.data().timestamp,\r\n    //           number: querySnapshot.data().number,\r\n    //         });\r\n    //         setLoading(false);\r\n    //       } else {\r\n    //         cookies.remove('inQueue');\r\n    //         setLoading(false);\r\n    //       }\r\n    //     },\r\n    //     (err) => {\r\n    //       console.log(err);\r\n    //     }\r\n    //   );\r\n\r\n    // if (userStatus.status === 'served') {\r\n    //   db.collection('queue')\r\n    //     .doc(userStatus.id)\r\n    //     .delete()\r\n    //     .then(() => {\r\n    //       cookies.remove('inQueue');\r\n    //       history.push('/');\r\n    //       console.log('User deleted successfully');\r\n    //     });\r\n    // }\r\n\r\n    return () => {\r\n      if (cookies.get('inQueue') === null) {\r\n        history.push('/');\r\n      }\r\n    };\r\n  }, [history]);\r\n\r\n  return { loading, userStatus };\r\n};\r\n\r\nexport default useGetUser;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link, useHistory, useParams } from 'react-router-dom';\r\n// context\r\nimport { AuthContext } from '../../context/auth-context';\r\n\r\n// import './styled.scss';\r\n// ant design\r\nimport { Result, Typography, Spin } from 'antd';\r\nimport { Timeline, Modal, Card } from 'antd';\r\nimport { Statistic, Row, Col } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport dayjs from 'dayjs';\r\n// custom hooks\r\nimport useQueue from '../hooks/useQueue';\r\nimport useGetUser from '../hooks/useGetUser';\r\n// Cookies\r\nimport Cookies from 'universal-cookie';\r\nconst cookies = new Cookies();\r\n// import io from 'socket.io-client';\r\n\r\n// //SERVER DOMAIN\r\n// const socket = io('http://localhost:8000/');\r\n\r\n// socket.on('message', (message) => {\r\n//   console.log(message);\r\n// });\r\n\r\nconst StatusPage = () => {\r\n  const userId = useParams(); // TO REMOVE if it takes it from the cookies\r\n  const { user, login } = useContext(AuthContext);\r\n  const { queueLength, lastServed } = useQueue();\r\n  const { userStatus } = useGetUser();\r\n  const [loading, setLoading] = useState(true);\r\n  const [singleUser, setSingleUser] = useState(null);\r\n  const [status, setStatus] = useState({\r\n    length: '',\r\n    next: '',\r\n    last: '',\r\n  });\r\n  const history = useHistory();\r\n\r\n  // useEffect(() => {\r\n  //   // increment count\r\n  //   socket.on('increment-queue', () => {\r\n  //     setStatus((prev) => ({ ...prev, length: +1 }));\r\n  //   });\r\n  //   // decrement count\r\n  //   socket.on('decrement-queue', () => {\r\n  //     setStatus((prev) => ({ ...prev, length: -1 }));\r\n  //   });\r\n  // }, [status]);\r\n\r\n  useEffect(() => {\r\n    if (cookies.get('token') === undefined) {\r\n      history.push('/');\r\n    }\r\n    login(\r\n      cookies.get('token').token,\r\n      cookies.get('token').userId,\r\n      cookies.get('token').tokenExpiration\r\n    );\r\n    fetchSingleUser();\r\n    fetchStatus();\r\n    // return () => {\r\n    //   setLoading(false);\r\n    // };\r\n  }, []);\r\n\r\n  const fetchStatus = () => {\r\n    setLoading(true);\r\n    const requestBody = {\r\n      query: `\r\n          query {\r\n              getStatus {\r\n                  queueLength\r\n                  nextInline {\r\n                    name\r\n                    number\r\n                  }\r\n                  lastServed {\r\n                    name\r\n                    number\r\n                  }\r\n              }\r\n          }\r\n      `,\r\n    };\r\n\r\n    fetch('/graphql', {\r\n      method: 'POST',\r\n      body: JSON.stringify(requestBody),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (res.status !== 200 && res.status !== 201) {\r\n          throw new Error('Failed');\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((resData) => {\r\n        console.log(resData.data.getStatus);\r\n        if (loading) {\r\n          setStatus({\r\n            length: resData.data.getStatus.queueLength,\r\n            next: resData.data.getStatus.nextInline.number,\r\n            last: resData.data.getStatus.lastServed.number,\r\n          });\r\n          setLoading(false);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        // if (loading) {\r\n        //   console.log('err:', err);\r\n        //   setLoading(false);\r\n        // }\r\n      });\r\n  };\r\n\r\n  const fetchSingleUser = () => {\r\n    setLoading(true);\r\n    const requestBody = {\r\n      query: `\r\n          query SingleUser($userId: String!) {\r\n              singleUser(userId: $userId) {\r\n                  name\r\n                  number\r\n                  createdAt\r\n              }\r\n          }\r\n      `,\r\n      variables: {\r\n        userId: cookies.get('token').userId,\r\n      },\r\n    };\r\n\r\n    fetch('/graphql', {\r\n      method: 'POST',\r\n      body: JSON.stringify(requestBody),\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (res.status !== 200 && res.status !== 201) {\r\n          throw new Error('Failed');\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((resData) => {\r\n        console.log(resData.data);\r\n        if (loading) {\r\n          setSingleUser(resData.data.singleUser);\r\n          setLoading(false);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        if (loading) {\r\n          console.log('err:', err);\r\n          setLoading(false);\r\n        }\r\n      });\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   if (user.token !== '' || cookies.get('token') !== '') {\r\n  //     console.log(user);\r\n  //     setLoading(false);\r\n  //   }\r\n  //   return () => {\r\n  //     history.push('/');\r\n  //   };\r\n  // }, [user]);\r\n\r\n  useEffect(() => {\r\n    // Once each user reachs number 10 in line, update status and send email via BE function\r\n    if (queueLength === 10) {\r\n      //update user status to NOTIFIED\r\n      // db.collection('queue')\r\n      //   .doc(cookies.get('inQueue'))\r\n      //   .update({\r\n      //     status: 'notified',\r\n      //   })\r\n      //   .then(() => {\r\n      //     console.log('user is being notified');\r\n      //   });\r\n    }\r\n  }, [queueLength]);\r\n\r\n  const handleModal = (e) => {\r\n    e.preventDefault();\r\n    Modal.confirm({\r\n      title: (\r\n        <div style={{ textAlign: 'right', marginBottom: 10, paddingRight: 30 }}>\r\n          יציאה\r\n        </div>\r\n      ),\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: (\r\n        <div style={{ margin: '0 auto', textAlign: 'right' }}>\r\n          <p>?האם את/ה בטוח שאת/ה רוצה לבטל את תורך</p>\r\n        </div>\r\n      ),\r\n      okText: 'כן, בטל את תורי',\r\n      okType: 'danger',\r\n      cancelText: 'חזור',\r\n      onOk() {\r\n        // db.collection('queue')\r\n        //   .doc(userStatus.id)\r\n        //   .delete()\r\n        //   .then(() => {\r\n        //     cookies.remove('inQueue');\r\n        //     history.push('/');\r\n        //     console.log('User deleted successfully');\r\n        //   });\r\n        //socket.emit('leave-queue', userStatus.id);\r\n      },\r\n      onCancel() {\r\n        return true;\r\n      },\r\n    });\r\n  };\r\n\r\n  const userNumber = (number) => {\r\n    const pad = (n, width, z) => {\r\n      z = z || '0';\r\n      n = n + '';\r\n      return n.length >= width\r\n        ? n\r\n        : new Array(width - n.length + 1).join(z) + n;\r\n    };\r\n\r\n    return pad(number, 3);\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        margin: '15px auto',\r\n        textAlign: 'center',\r\n        padding: '5px 20px 0 20px',\r\n        maxWidth: 768,\r\n      }}\r\n    >\r\n      {loading === true ? (\r\n        <div>\r\n          <Spin />\r\n        </div>\r\n      ) : cookies.get('token') === undefined ? (\r\n        <div>\r\n          <Result\r\n            title='נראה שאין לכם מספר בתור'\r\n            extra={<Link to='/'>חזרו אחורה לקחת מספר</Link>}\r\n          />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <Card\r\n            title={\r\n              <div>\r\n                <p>{` ,שלום ${singleUser.name}`}</p>\r\n                <p>הצטרפת בהצלחה לרשימת ההמתנה</p>\r\n                <p>ליום האימוץ של אדופט</p>\r\n              </div>\r\n            }\r\n            style={{\r\n              width: '100%',\r\n              margin: '0 auto',\r\n              border: '1px solid #000',\r\n              borderRadius: 4,\r\n            }}\r\n          >\r\n            <p>מספרך בתור</p>\r\n            {singleUser && (\r\n              <h2 style={{ fontSize: 50 }}>{`${userNumber(\r\n                singleUser.number\r\n              )}`}</h2>\r\n            )}\r\n            <Row gutter={16}>\r\n              <Col span={8}>\r\n                <Statistic\r\n                  title='זמן המתנה משוער'\r\n                  value={(singleUser.number - status.next - 1) * 2}\r\n                  prefix={`'דק`}\r\n                />\r\n              </Col>\r\n              <Col span={8}>\r\n                <Statistic\r\n                  title='ממתינים לפניך'\r\n                  value={singleUser.number - status.next - 1}\r\n                  prefix={<UserOutlined />}\r\n                />\r\n              </Col>\r\n              {status.last !== '' && (\r\n                <Col span={8}>\r\n                  <Statistic\r\n                    title='אחרונים שנכנסו'\r\n                    value={`${userNumber(status.last)}`}\r\n                    className='last-in'\r\n                  />\r\n                </Col>\r\n              )}\r\n            </Row>\r\n            <Timeline mode='right' className='landing-timeline'>\r\n              <Timeline.Item>\r\n                - האימוץ יתקיים בנוכחות כל דיירי הבית\r\n                <br /> כולל ילדים וכלבים\r\n              </Timeline.Item>\r\n              <Timeline.Item>\r\n                לא כל הקודם זוכה - אנחנו נדבר עם כולם\r\n                <br />\r\n                ורק כשיסתיים התור יתקבלו החלטות\r\n              </Timeline.Item>\r\n              <Timeline.Item>\r\n                ההמתנה יכולה לקחת זמן ויכול להיות שנחרוג בשעת הסיום, נשמח\r\n                שתתאזרו בסבלנות\r\n              </Timeline.Item>\r\n              <Timeline.Item>\r\n                אין חובה להישאר עד תורכם אך יש להגיע\r\n                <br />\r\n                בזמן לפי עדכוני האפליקציה\r\n              </Timeline.Item>\r\n            </Timeline>\r\n            <Typography.Text type='secondary'>\r\n              {singleUser\r\n                ? dayjs(singleUser.createdAt).format('HH:mm', {\r\n                    timeZone: 'Asia/Jerusalem',\r\n                  })\r\n                : ''}{' '}\r\n              הצרפת לתור בשעה\r\n            </Typography.Text>\r\n            <p>כאשר מספרך יתקרב, תקבל מייל שיזכירך לשוב לגינת האימוץ</p>\r\n            <Link to='/' onClick={handleModal}>\r\n              ביטול התור\r\n            </Link>\r\n          </Card>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatusPage;\r\n","import React, { useState, useContext } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport logo from '../../../assets/adopt.png';\r\n// context\r\nimport { AuthContext } from '../../../context/auth-context';\r\n\r\n// import { FirebaseContext } from '../../../../firebase/firebaseConfig';\r\n// import 'firebase/auth';\r\n// import 'firebase/firestore';\r\nimport './styled.scss';\r\n// ant design\r\nimport { Typography } from 'antd';\r\nimport { Form, Input } from 'antd';\r\nimport { Row, Col } from 'antd';\r\n\r\nconst { Title } = Typography;\r\n\r\nconst LoginPage = () => {\r\n  // const firebase = useContext(FirebaseContext);\r\n  const { login } = useContext(AuthContext);\r\n  const [formData, setFormData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n  const history = useHistory();\r\n  //   const [loading, setLoading] = useState(true);\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    let requestBody = {\r\n      query: `\r\n          query Login($email: String!, $password: String!){\r\n              login(email: $email, password: $password) {\r\n                  userId\r\n                  token\r\n                  tokenExpiration\r\n              }\r\n          }\r\n        `,\r\n      variables: {\r\n        email: formData.email,\r\n        password: formData.password,\r\n      },\r\n    };\r\n\r\n    fetch('/graphql', {\r\n      method: 'POST',\r\n      body: JSON.stringify(requestBody),\r\n      headers: { 'Content-Type': 'application/json' },\r\n    })\r\n      .then((res) => {\r\n        if (res.status !== 200 && res.status !== 201) {\r\n          throw new Error('Failed');\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((resData) => {\r\n        //console.log(resData);\r\n\r\n        if (resData.data.login.token) {\r\n          login(\r\n            resData.data.login.token,\r\n            resData.data.login.userId,\r\n            resData.data.login.tokenExpiration\r\n          );\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  //   const handleLogout = () => {\r\n  //     return firebase.auth().signOut();\r\n  //   };\r\n\r\n  const updateInput = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    formData.name !== '' && formData.email !== '' && formData.phone !== ''\r\n      ? setDisabled(false)\r\n      : setDisabled(true);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        margin: '0 auto',\r\n        textAlign: 'center',\r\n        maxWidth: 768,\r\n        paddingTop: 30,\r\n      }}\r\n    >\r\n      <Form\r\n        onSubmit={handleLogin}\r\n        autoComplete='off'\r\n        style={{\r\n          margin: '0 auto',\r\n          textAlign: 'center',\r\n          maxWidth: 768,\r\n          minWidth: 300,\r\n          paddingTop: 50,\r\n        }}\r\n      >\r\n        <Row>\r\n          <Col span={24}>\r\n            <img\r\n              src={logo}\r\n              heigth='100'\r\n              width='100'\r\n              alt='logo'\r\n              style={{ marginBottom: 10 }}\r\n            />\r\n            <Title level={3}>כניסת צוות</Title>\r\n            <Row gutter={16}>\r\n              <Col span={2} />\r\n              <Col span={20}>\r\n                <Form.Item>\r\n                  <Input\r\n                    dir='rtl'\r\n                    type='email'\r\n                    name='email'\r\n                    placeholder='אימייל'\r\n                    onChange={updateInput}\r\n                    value={formData.email || ''}\r\n                    autoComplete='off'\r\n                  />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                  <Input\r\n                    dir='rtl'\r\n                    type='password'\r\n                    name='password'\r\n                    placeholder='סיסמה'\r\n                    onChange={updateInput}\r\n                    value={formData.password || ''}\r\n                    autoComplete='new-password'\r\n                  />\r\n                </Form.Item>\r\n                <div style={{ marginTop: 15 }}>\r\n                  <button\r\n                    type='primary'\r\n                    onClick={handleLogin}\r\n                    disabled={disabled}\r\n                  >\r\n                    התחברות\r\n                  </button>\r\n                </div>\r\n              </Col>\r\n              <Col span={2} />\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n        <br />\r\n        <Link to='/'>חזור אחורה</Link>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\n// import { useHistory } from 'react-router-dom';\r\n// context\r\nimport { AuthContext } from '../../../context/auth-context';\r\n// firebase\r\n// import { FirebaseContext } from '../../../../firebase/firebaseConfig';\r\n// import 'firebase/firestore';\r\nimport './styled.scss';\r\nimport dayjs from 'dayjs';\r\n// ant design\r\nimport { Table, Tag, Modal } from 'antd';\r\nimport { Statistic, Row, Col } from 'antd';\r\nimport { Typography, Spin, Divider } from 'antd';\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\r\n\r\nconst relativeTime = require('dayjs/plugin/relativeTime');\r\ndayjs.extend(relativeTime);\r\n\r\nconst { Title } = Typography;\r\n\r\nconst columns = [\r\n  {\r\n    title: 'פעולה',\r\n    dataIndex: 'actions',\r\n    key: 'actions',\r\n    render: (text, record) => (\r\n      <>\r\n        <a href={`tel:${record.phone}`} style={{ padding: 5 }}>\r\n          טלפון\r\n        </a>\r\n        {` `}\r\n        <a href={`mailto:${record.email}`} style={{ padding: 5 }}>\r\n          מייל\r\n        </a>\r\n      </>\r\n    ),\r\n  },\r\n  // {\r\n  //   title: 'זמני המתנה',\r\n  //   dataIndex: 'timestamp',\r\n  //   key: 'elapsed',\r\n  //   render: (text, record) => (\r\n  //     <>\r\n  //       <Row style={{ justifyContent: 'flex-end' }}>\r\n  //         <Col>\r\n  //           <Tag>\r\n  //             {dayjs(record.timestamp).format('HH:mm')}{' '}\r\n  //             <Typography.Text strong>:כניסה</Typography.Text>\r\n  //           </Tag>\r\n  //         </Col>\r\n  //       </Row>\r\n  //       <Row style={{ justifyContent: 'flex-end' }}>\r\n  //         <Col>\r\n  //           <Tag>\r\n  //             {dayjs(record.timestamp).from(dayjs(), true)}{' '}\r\n  //             <Typography.Text strong>:המתנה</Typography.Text>\r\n  //           </Tag>\r\n  //         </Col>\r\n  //       </Row>\r\n  //     </>\r\n  //   ),\r\n  // },\r\n  {\r\n    title: 'סטטוס',\r\n    dataIndex: 'status',\r\n    key: 'status',\r\n    render: (stat) => (\r\n      <>\r\n        {stat === 'pending' ? (\r\n          <Tag>המתנה</Tag>\r\n        ) : stat === 'notified' ? (\r\n          <Tag color='processing'>נשלח מייל</Tag>\r\n        ) : stat === 'served' ? (\r\n          <Tag color='success'>נכנס</Tag>\r\n        ) : (\r\n          ''\r\n        )}\r\n      </>\r\n    ),\r\n  },\r\n  {\r\n    title: 'מספר',\r\n    dataIndex: 'number',\r\n    key: 'id',\r\n    render: (number) => <b>{number}</b>, //<b>ADP{key}</b>\r\n  },\r\n  {\r\n    title: 'שם',\r\n    dataIndex: 'name',\r\n    key: 'name',\r\n  },\r\n  // {\r\n  //   title: '',\r\n  //   dataIndex: 'avatar',\r\n  //   key: 'avatar',\r\n  //   render: () => (\r\n  //     <Avatar\r\n  //       style={{\r\n  //         color: '#f56a00',\r\n  //         backgroundColor: '#fde3cf',\r\n  //       }}\r\n  //     >\r\n  //       <UserOutlined />\r\n  //     </Avatar>\r\n  //   ),\r\n  // },\r\n];\r\n\r\nconst QueuePage = () => {\r\n  // const { user } = useContext(AuthContext);\r\n  // const firebase = useContext(FirebaseContext);\r\n  const [usersList, setUsersList] = useState([]);\r\n  const [servedList, setServedList] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [totalInQueue, setTotalInQueue] = useState([]);\r\n  const [totalServed, setTotalServed] = useState([]);\r\n  const [lastServed, setLastServed] = useState('');\r\n  // const [nextQueue, setNextQueue] = useState('');\r\n\r\n  // const db = firebase.firestore();\r\n\r\n  useEffect(() => {\r\n    // db.collection('queue')\r\n    //   .where('status', 'in', ['pending', 'notified'])\r\n    //   .orderBy('timestamp', 'asc')\r\n    //   .limit(5)\r\n    //   .onSnapshot(\r\n    //     (querySnapshot) => {\r\n    //       const queue = [];\r\n    //       querySnapshot.forEach((doc) => {\r\n    //         queue.push({\r\n    //           id: doc.id,\r\n    //           ...doc.data(),\r\n    //         });\r\n    //       });\r\n    //       setUsersList(queue);\r\n    //       setLoading(false);\r\n    //     },\r\n    //     (err) => {\r\n    //       console.log(err);\r\n    //     }\r\n    //   );\r\n  }, [loading]);\r\n\r\n  useEffect(() => {\r\n    // db.collection('queue')\r\n    //   .where('status', '==', 'served')\r\n    //   .orderBy('timestamp', 'desc')\r\n    //   .onSnapshot(\r\n    //     (querySnapshot) => {\r\n    //       const served = [];\r\n    //       querySnapshot.forEach((doc) => {\r\n    //         served.push({\r\n    //           id: doc.id,\r\n    //           ...doc.data(),\r\n    //         });\r\n    //       });\r\n    //       setServedList(served);\r\n    //       setLoading(false);\r\n    //     },\r\n    //     (err) => {\r\n    //       console.log(err);\r\n    //     }\r\n    //   );\r\n  }, [loading]);\r\n\r\n  useEffect(() => {\r\n    // Get total queue size\r\n    // db.collection('queue')\r\n    //   .where('status', 'in', ['pending', 'notified'])\r\n    //   .onSnapshot(\r\n    //     (querySnapshot) => {\r\n    //       setTotalInQueue(querySnapshot.size);\r\n    //     },\r\n    //     (err) => {\r\n    //       console.log(err);\r\n    //     }\r\n    //   );\r\n    // Get total served size\r\n    // db.collection('queue')\r\n    //   .where('status', '==', 'served')\r\n    //   .onSnapshot(\r\n    //     (querySnapshot) => {\r\n    //       setTotalServed(querySnapshot.size);\r\n    //     },\r\n    //     (err) => {\r\n    //       console.log(err);\r\n    //     }\r\n    //   );\r\n    // If i need the first in queue\r\n    // db.collection('queue')\r\n    //   .where('status', 'in', ['pending', 'notified'])\r\n    //   .limit(1)\r\n    //   .get()\r\n    //   .then((doc) => {\r\n    //     doc.forEach((data) => {\r\n    //       setNextQueue(data.id);\r\n    //     });\r\n    //   });\r\n    // db.collection('queue')\r\n    //   .where('status', '==', 'served')\r\n    //   .orderBy('timestamp', 'desc')\r\n    //   .limit(1)\r\n    //   .get()\r\n    //   .then((doc) => {\r\n    //     doc.forEach((data) => {\r\n    //       setLastServed(data.data().number);\r\n    //     });\r\n    //   });\r\n  }, []);\r\n\r\n  const handleNext = () => {\r\n    //update user status\r\n    // db.collection('queue')\r\n    //   .doc(usersList[0].id)\r\n    //   .update({\r\n    //     status: 'served',\r\n    //   })\r\n    //   .then(() => {\r\n    //     console.log('user moved to served successfully');\r\n    //     setLoading(false);\r\n    //   });\r\n    // db.collection('queue')\r\n    //   .where('status', 'in', ['pending', 'notified'])\r\n    //   .orderBy('timestamp', 'asc')\r\n    //   .limit(5)\r\n    //   .onSnapshot(\r\n    //     (querySnapshot) => {\r\n    //       const queue = [];\r\n    //       querySnapshot.forEach((doc) => {\r\n    //         queue.push({\r\n    //           id: doc.id,\r\n    //           ...doc.data(),\r\n    //         });\r\n    //       });\r\n    //       setUsersList(queue);\r\n    //       setLoading(false);\r\n    //     },\r\n    //     (err) => {\r\n    //       console.log(err);\r\n    //     }\r\n    //   );\r\n    // db.collection('queue')\r\n    //   .where('status', '==', 'served')\r\n    //   .orderBy('timestamp', 'desc')\r\n    //   .limit(10)\r\n    //   .onSnapshot(\r\n    //     (querySnapshot) => {\r\n    //       const served = [];\r\n    //       querySnapshot.forEach((doc) => {\r\n    //         served.push({\r\n    //           id: doc.id,\r\n    //           ...doc.data(),\r\n    //         });\r\n    //       });\r\n    //       setServedList(served);\r\n    //       setLoading(false);\r\n    //     },\r\n    //     (err) => {\r\n    //       console.log(err);\r\n    //     }\r\n    //   );\r\n  };\r\n\r\n  const handleResetQueue = () => {\r\n    // Open modal\r\n    Modal.confirm({\r\n      title: (\r\n        <div style={{ textAlign: 'right', marginBottom: 10, paddingRight: 30 }}>\r\n          איפוס התור\r\n        </div>\r\n      ),\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: (\r\n        <div style={{ margin: '0 auto', textAlign: 'right' }}>\r\n          <p>?האם את/ה בטוח שאת/ה רוצה לאפס את כל התור</p>\r\n        </div>\r\n      ),\r\n      okText: 'איפוס התור',\r\n      okType: 'danger',\r\n      cancelText: 'חזור',\r\n      onOk() {\r\n        // db.collection('queue')\r\n        //   .get()\r\n        //   .then((querySnapshot) => {\r\n        //     // Once we get the results, begin a batch\r\n        //     var batch = db.batch();\r\n        //     querySnapshot.forEach((doc) => {\r\n        //       // For each doc, add a delete operation to the batch\r\n        //       batch.delete(doc.ref);\r\n        //     });\r\n        //     // Commit the batch\r\n        //     return batch.commit();\r\n        //   })\r\n        //   .then(function () {\r\n        //     console.log('Entire Queue Collection deleted successfully.');\r\n        //   });\r\n      },\r\n      // onCancel() {\r\n      // },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        margin: '0 auto',\r\n        textAlign: 'center',\r\n        maxWidth: 768,\r\n        paddingTop: 10,\r\n      }}\r\n    >\r\n      {usersList.length === 0 ? (\r\n        <div>\r\n          <Spin />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <Row gutter={16} type='flex' style={{ margin: '10px 15px' }}>\r\n            <Col span={6} xs={12}>\r\n              <Statistic\r\n                title='סיימו תהליך'\r\n                value={`${totalServed}`}\r\n                style={{ border: '1px solid #999', padding: 5 }}\r\n              />\r\n            </Col>\r\n            <Col span={6} xs={12}>\r\n              <Statistic\r\n                title='נכנס אחרון'\r\n                value={`${lastServed}`} //value={`ADP${lastServed}`}\r\n                style={{ border: '1px solid #999', padding: 5 }}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row gutter={16} type='flex' style={{ margin: '10px 15px' }}>\r\n            <Col span={6} xs={12}>\r\n              <Statistic\r\n                title='זמן המתנה משוער'\r\n                value={`${totalInQueue * 2}`}\r\n                prefix={`'דק`}\r\n                style={{ border: '1px solid #999', padding: 5 }}\r\n              />\r\n            </Col>\r\n            <Col span={6} xs={12}>\r\n              <Statistic\r\n                title='ממתינים בתור'\r\n                value={totalInQueue}\r\n                suffix={`/ ${totalInQueue + totalServed}`}\r\n                style={{ border: '1px solid #999', padding: 5 }}\r\n              />\r\n              <button style={{ marginTop: 16 }} onClick={handleNext}>\r\n                הכנס את הבא\r\n              </button>\r\n            </Col>\r\n          </Row>\r\n          <Divider />\r\n        </>\r\n      )}\r\n      <Title level={3}>ממתינים בתור</Title>\r\n      <Table\r\n        columns={columns}\r\n        dataSource={usersList}\r\n        rowKey='id'\r\n        pagination={false}\r\n        expandable={{\r\n          expandedRowRender: (record) => (\r\n            <>\r\n              <Tag>\r\n                {dayjs(record.timestamp).from(dayjs(), true)}{' '}\r\n                <Typography.Text strong>:המתנה</Typography.Text>\r\n              </Tag>\r\n              <Tag>\r\n                {dayjs(record.timestamp).format('HH:mm')}{' '}\r\n                <Typography.Text strong>:כניסה</Typography.Text>\r\n              </Tag>\r\n            </>\r\n          ),\r\n          rowExpandable: (record) => record.name !== 'Not Expandable',\r\n        }}\r\n        style={{ width: '100%', margin: '0 auto', textAlign: 'right ' }}\r\n      />\r\n      <Divider />\r\n      <Title level={3}>נכנסו</Title>\r\n      <Table\r\n        columns={columns}\r\n        dataSource={servedList}\r\n        rowKey='id'\r\n        pagination={false}\r\n        expandable={{\r\n          expandedRowRender: (record) => (\r\n            <>\r\n              <Tag>\r\n                {dayjs(record.timestamp).from(dayjs(), true)}{' '}\r\n                <Typography.Text strong>:המתנה</Typography.Text>\r\n              </Tag>\r\n              <Tag>\r\n                {dayjs(record.timestamp).format('HH:mm')}{' '}\r\n                <Typography.Text strong>:כניסה</Typography.Text>\r\n              </Tag>\r\n            </>\r\n          ),\r\n          rowExpandable: (record) => record.name !== 'Not Expandable',\r\n        }}\r\n        style={{ width: '100%', margin: '0 auto', textAlign: 'right ' }}\r\n      />\r\n      <br />\r\n      <button onClick={handleResetQueue}>איפוס התור</button>\r\n      <br />\r\n      <br />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QueuePage;\r\n","import styled, { createGlobalStyle } from 'styled-components';\r\n\r\nexport const MainContent = styled.main`\r\n  margin: 6rem 2.5rem;\r\n  width: 100%;\r\n  max-width: 1200px;\r\n`;\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n    html {\r\n        height: 100%;\r\n    }\r\n\r\n    body {\r\n        margin: 0;\r\n        padding: 0 20px;\r\n        display: flex;\r\n        justify-content: center;\r\n    }\r\n\r\n    * {\r\n        box-sizing: border-box;\r\n        /* font-family: 'Roboto', san-serif; */\r\n    }\r\n`;\r\n\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n","import React, { useContext } from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n} from 'react-router-dom';\r\n// context\r\nimport { AuthContext } from '../context/auth-context';\r\n// pages\r\nimport LandingPage from '../pages/LandingPage';\r\nimport FormPage from '../pages/FormPage';\r\nimport StatusPage from '../pages/StatusPage';\r\nimport LoginPage from '../pages/admin/LoginPage';\r\nimport QueuePage from '../pages/admin/QueuePage';\r\n// styles\r\nimport * as S from './styles';\r\n// Cookies\r\nimport Cookies from 'universal-cookie';\r\n\r\n// import NotFound from '../pages/Error/NotFound';\r\n// import NotAuthorized from '../pages/Error/NotAuthorized';\r\n// import ServerError from '../pages/Error/ServerError';\r\n\r\nconst cookies = new Cookies();\r\n\r\nconst ApplicationRoutes = () => {\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const PrivateRoute = ({ component: Component, user }) => (\r\n    <Route\r\n      render={(props) =>\r\n        user.token ? (\r\n          <Component user={user} {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: '/',\r\n              //   state: {\r\n              //     from: 'root',\r\n              //   },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n  return (\r\n    <Router>\r\n      <S.GlobalStyle />\r\n      <div className='App'>\r\n        <S.MainContent>\r\n          <Switch>\r\n            {/* <PrivateRoute path='/status' user={user} component={StatusPage} />\r\n            <PrivateRoute path='/queue' user={user} component={QueuePage} /> */}\r\n            {/* \r\n            <PrivateRoute\r\n              path='/status/:userId'\r\n              user={user}\r\n              component={StatusPage}\r\n            /> */}\r\n            <Route path='/status/:userId' component={StatusPage} />\r\n            <Route path='/status' component={StatusPage} />\r\n\r\n            <Route exact path='/' component={LandingPage} />\r\n            {/* <Route path='/404' component={NotFound} />\r\n            <Route path='/403' component={NotAuthorized} />\r\n            <Route path='/500' component={ServerError} /> */}\r\n            {/* {!user.token && (\r\n              <>\r\n                <Route path='/' component={LandingPage} />\r\n                <Redirect exact from='/status' to='/' />\r\n              </>\r\n            )} */}\r\n            {/* <Route path='/status' component={StatusPage} /> */}\r\n            <Route path='/queue' component={QueuePage} />\r\n            <Route path='/form' component={FormPage} />\r\n            <Route path='login' component={LoginPage} />\r\n            {/* // : ( // <Redirect exact from='/' to='/events' />\r\n            // )} */}\r\n            <Redirect from='/status' to='/' />\r\n          </Switch>\r\n        </S.MainContent>\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default ApplicationRoutes;\r\n","import React from 'react';\nimport './App.css';\n// context\nimport { AuthProvider } from './context/auth-context';\n// routes\nimport ApplicationRoutes from './ApplicationRoutes';\n// ant design\nimport 'antd/dist/antd.css';\n\nconst App = () => {\n  return (\n    <AuthProvider>\n      <ApplicationRoutes />\n    </AuthProvider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <>\n    <App />\n  </>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}